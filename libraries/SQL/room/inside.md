# Room под капотом

Room — это библиотека для работы с базой данных SQLite, которая помогает создать абстрактный слой над SQLite и предоставляет удобный API для работы с базами данных в Android. Она использует аннотации и предоставляет безопасный, компилируемый доступ к данным. Под капотом Room делает многое за вас, и вот как это работает:

Room автоматически генерирует реализации классов с аннотациями @Database и @Dao при первой компиляции кода после создания базы данных Room. Автогенерированный код можно найти в папке build/generated/source/kapt/.

Когда вы используете Room для создания экземпляра базы данных, вызывается createOpenHelper() databaseBuilder(). build(). Он создаёт и возвращает экземпляр SupportSQLiteOpenHelper, который является вспомогательным классом для управления созданием базы данных и версиями.

createInvalidationTracker() создаёт трекер недействительных данных, который хранит список таблиц, изменённых запросами, и уведомляет о них при изменении.
clearAllTables() — это функция, которая удаляет данные из всех таблиц в указанной базе данных.
userDao() создаёт (если его ещё нет) и возвращает экземпляр Dao для взаимодействия со таблицей пользователей.